@model BuckleUp.Models.ViewModels.StudentDashboardVM

<h1>Student DashBoard</h1>

<a asp-controller="Auth" asp-action="Logout">Logout</a>

<h3>Logged in as @Model.Student.FirstName  @Model.Student.LastName</h3>

<br/>

@if(Model.Student.TeacherStudents.Count() == 0){
    <h4>You do not have any teacher</h4>
}

else{
    <h3>TEACHERS</h3>
    @foreach(var item in Model.Student.TeacherStudents){
        <h3> @item.Teacher.FirstName  @item.Teacher.LastName </h3>
    }
}

<br/>

@if(Model.Student.StudentCourses.Count() == 0  && Model.Student.TeacherStudents.Count() == 0){
     <h4>You do not have any course</h4>
     <h5>Get enrolled under a teacher to add a course</h5>
}
else if(Model.Student.StudentCourses.Count() == 0  && Model.Student.TeacherStudents.Count() != 0){
     <h4>You do not have any course</h4>
     <a asp-action = "Enroll"><button class="btn btn-primary">Enroll</button></a>
}
else if(Model.Student.StudentCourses.Count() != 0){
    <h3>COURSES</h3>
     @foreach(var item in Model.Student.StudentCourses ){
         <a asp-controller="Course" asp-action="Details" asp-route-id="@item.Course.Id">
            <h3> @item.Course.Title</h3>
        </a>
    }

     <a asp-action = "Enroll"><button class="btn btn-primary">Enroll</button></a>
}

<br/>
<br/>
<h3>ASSESSMENTS</h3>

@if(Model.Student.StudentAssessments.Count() == 0){
    <h4>You do not have any Assessment</h4>
}

else{
    
    <table class="table">
        <tr>
            <th>Assessment</th>
            <th>Assessment status</th>
            <th>Assessment Score</th>
        </tr>

        @foreach(var item in Model.Student.StudentAssessments){
            <tr> 
                <td> 
                    <a asp-action="Details" asp-controller="Assessment" asp-route-id="@item.Assessment.Id" >
                        <h3> @item.Assessment.Title</h3>
                    </a>
                </td>
            
                <td> @(item.HasTaken ? "Taken" : "Not Taken") </td>

                <td>@(item.HasTaken ? item.score : "nill")</td>

            </tr>
        }
    </table>
}

<br/>
<br/>
<h3>QUIZZES</h3>

@if(Model.Quizzes.Count() == 0){
    <h3>You have not created any quiz</h3>
}

else{

    <table class="table">
        <tr>
            <th>Quiz</th>
            <th>Status</th>
        </tr>

        @foreach(var item in Model.Quizzes){
            <tr> 
                <td> 
                    <a asp-action="Room" asp-controller="Quiz" asp-route-id="@item.Link" >
                        <h3>Quiz-@item.Link</h3>
                    </a>
                </td>
            
                <td> @item.status </td>

            </tr>
        }
    </table>
    foreach(var quiz in Model.Quizzes){
       
    }
}

<a asp-controller="Quiz" asp-action="Create">
    <button class="btn btn-primary" >Create Quiz</button>
</a>



